<html>
<body>
	<p id="output">nothing received so far</p>
	<script>
	var outputElement = document.getElementById('output');
	var source = new EventSource('http://localhost:8001/source.php');
	var eventCounter = 0;

	source.addEventListener('testeventcc', function(e) {
		eventCounter++;
		outputElement.innerText = e.data + " (" + eventCounter + " Events)";
	}, false);

	source.addEventListener('open', function(e) {
		console.log("connected");
	}, false);

	source.addEventListener('error', function(e) {
		console.error(e);
		if (e.readyState == EventSource.CLOSED) {
		}
	}, false);
	</script>
</body>
</html>
